<!DOCTYPE html>
<html lang="en">
<head>
	<title>EDLI Calculator</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
	<style>
	.shadow {
		box-shadow: 0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15);
	}
	.input {
	background: linear-gradient(#9dd2ea, #8bceec);
	}
	
	.input-group, .list-group {
		box-shadow: 0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15);
	}
	</style>

</head>

<body ng-app="myApp" ng-controller="namesCtrl" class="pt-100 pb-100">
	<header class="p-3 bg-info text-white">
		<div class="container">
		  <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
			<h3 class="text-center"> EDLI CALCULATOR</h3>
		  </div>
		</div>
	</header>
    <div class="container-fluid" >
		<div class="row">
			<div ng-if=0 class="col-md-6 col-sm-12  bg-info p-2 input mt-2">
				<h3 class="text-center mb-3">EDLI Calculator Input</h3>
				<form>
					<div class="input-group mb-3">
						<span class="input-group-text col-5" id="basic-addon1">UAN: </span>
						<input type="number" maxlength="10" pattern="\d{10}" title="Please enter exactly 10 digits" ng-model="uan" class="form-control" placeholder="UAN" aria-label="UAN" aria-describedby="basic-addon1">
					</div>
				</form>
			</div>
			<div class="col-md-6 col-sm-12 p-2">
				<ul class="list-group mb-3">
					<li class="list-group-item list-group-item-primary d-flex justify-content-between align-items-center">UAN: <span>{{uan}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Name: <span>{{name}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Date of Death: <span>{{dod | date:'dd-MM-yyyy'}}</span></li>
				</ul>
				<ul class="list-group mb-3">
					<li class="list-group-item list-group-item-primary d-flex justify-content-between align-items-center">Part A Calculation</li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Total Progressive Balance: <span>{{tpb}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Avg Progressive Balance: <span>{{apb}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Minimum EDLI Amount: <span>{{min_a}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Percent of above Minimum Amount: <span>{{percent_a}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Maximum EDLI Amount: <span>{{max_a}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Additional Amount: <span>{{additional}}</span></li>
					<li class="list-group-item list-group-item-success d-flex justify-content-between align-items-center">Total Amount under Part A: <span>{{total}}</span></li>
				</ul>
				<ul class="list-group mb-3">
					<li class="list-group-item list-group-item-primary d-flex justify-content-between align-items-center">Part B Calculation</li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Average Wages: <span>{{wages_avg}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Average Wages limit: <span>{{wages_limit}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Average Wages taken for Calculation: <span>{{wages_cal}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Factor: <span>{{factor}}</span></li>
					<li class="list-group-item list-group-item-warning d-flex justify-content-between align-items-center ">EDLI (Avg Wages Calculated*Factor) [B1]: <span>{{ wages_cal*factor }}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Additional Amount (20% if below limit): <span>{{additional}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Percent for Avg Progressive Balance(APB): <span>{{percent_b}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">APB Benefit: <span>{{percent_b*apb}}</span></li>
					<li class="list-group-item list-group-item d-flex justify-content-between align-items-center">Max APB Benefit Allowed: <span>{{limit_apb}}</span></li>
					<li class="list-group-item list-group-item-warning d-flex justify-content-between align-items-center">APB Benefit eligible [B2]: <span>{{benefit_apb}}</span></li>
					<li class="list-group-item list-group-item-success d-flex justify-content-between align-items-center">Total Benefit under Part B [B1 + B2]: <span>{{benefit_apb + (wages_cal*factor) }}</span></li>
				</ul>
				
				<ul class="list-group mb-3">
					<li class="list-group-item list-group-item-success d-flex justify-content-between align-items-center">Final Benefit (Greater of A or B): <span>{{benefit_apb + (wages_cal*factor) }}</span></li>
				</ul>
				<div class="mt-2">
			<ul class="list-group">
				<li class="list-group-item list-group-item-warning"><i class="bi bi-exclamation-octagon-fill"></i> The above calculation is based on the data entered by the user. 
				Hence, the same may differ with the calculations using the data from database. In case of any mismatch, the calculations using the database data will be considered final.
				</li>
			</ul>
		</div>
			</div>
		</div>
		<div class="row" style="">
    <div class="col-sm-3 align-self-start"></div>
    <div class="col-sm-3 align-self-center">
      <button type="button" class="btn btn-danger align-self-center" onclick="myFunction()">Download</button>
    </div>
    <div class="col-sm-3 align-self-end"></div>
 </div>
		<div class="row" ng-if=0>
			<ul class="list-group mb-3 mt-5">
				<li class="list-group-item list-group-item-primary d-flex justify-content-between align-items-center">Eligibility Table</li>
				<li class="list-group-item list-group-item">
					<table class="table table-striped table-bordered table-sm">
						<thead>
							<tr>
								<td>Start</td>
								<td>End</td>
								<td>Min Balance</td>
								<td>Part A</td>
								<td>Part B</td>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in list">
								<td>{{item.start}}</td>
								<td>{{item.end}}</td>
								<td>{{item.min_balance}}</td>
								<td>{{item.part_a}}</td>
								<td>{{item.part_b}}</td>
							</tr>
						</tbody>
					</table>
				</li>
			</ul>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-cookies.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-route.js" type="text/javascript"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script>
	function myFunction() {
		window.print();
	}
	
	var app = angular.module('myApp', ['ngCookies']);
	app.controller('namesCtrl', ['$scope','$cookies','$cookieStore', '$http', function($scope,$cookies,$cookieStore, $http) {
		/*$http({
			method: 'GET',
			url: './edli.json'
		}).then(function (success){
			$scope.list =success.data;
			console.log($scope.list);
		},function (error){
			console.log(error)
		});*/
		$scope.uan = 100000000000;
		$scope.dod = new Date('2020-02-16');
		$scope.name = "John Doe";
		$scope.tpb = 14387808;
		$scope.apb = 1198984;
		$scope.percent_a = 40;
		$scope.min_a = 50000;
		$scope.max_a = 100000;
		$scope.additional =  20000; //20% additional benefit
		$scope.total = 120000;
		
		$scope.wages_avg = 16000;
		$scope.wages_limit = 15000;
		$scope.wages_cal = 15000;
		$scope.factor = 35;
		$scope.percent_b = 50;
		$scope.addtional2= 0;
		$scope.benefit_apb = 175000;
		$scope.limit_apb = 175000;
		
		$scope.list = 
		[
			{
				"id":1,
				"start": "01-08-1976",
				"end": "31-07-1979",
				"min_balance":0,
				"part_a":"10000",
				"part_b":""
			},
			{
				"id":2,
				"start": "01-08-1979",
				"end": "28-02-1990",
				"min_balance":1000,
				"part_a":10000,
				"part_b":""
			},
			{
				"id":3,
				"start": "01-03-1990",
				"end": "31-03-1993",
				"min_balance":500,
				"part_a":"Rs. 15,000/- + 25% of the amount in excess of Rs. 15,000/- subject to the ceiling of Rs. 25,000/-",
				"part_b":""
			},
			{
				"id":4,
				"start": "01-04-1993",
				"end": "23-06-2000",
				"min_balance":0,
				"part_a":"Rs. 25,000/- + 25% of the amount in excess of Rs. 25,000/- subject to the ceiling of Rs. 35000/-",
				"part_b":""
			},
			{
				"id":5,
				"start": "24-06-2000",
				"end": "17-06-2010",
				"min_balance":0,
				"part_a":"Rs. 35,000/- + 25% of the amount in excess of Rs. 35,000/- subject to the ceiling of Rs. 60,000/-",
				"part_b":""
			},
			{
				"id":6,
				"start": "18-06-2010",
				"end": "07-01-2011",
				"min_balance":0,
				"part_a":"Rs. 50,000/= + 40% of the amount in excess Rs. 50,000/-, subject to the ceiling of Rs. 1 Lakh",
				"part_b":""
			},
			{
				"id":7,
				"start": "08-01-2011",
				"end": "31-08-2014",
				"min_balance":0,
				"part_a":"Rs. 50,000/= + 40% of the amount in excess Rs. 50,000/-, subject to the ceiling of Rs. 1 Lakh",
				"part_b":"Average Monthly wages drawm for the preceding twelve months prior to the month of death (subject to the maximum of Rs. 6500/=) multiplied by 20  (Admissible if the employee who had been employed in the same establishment for a continuous period of twelve months)"
			},
			{
				"id":8,
				"start": "01-09-2014",
				"end": "23-05-2016",
				"min_balance":0,
				"part_a":"Rs. 50,000/= + 40% of the amount in excess Rs. 50,000/-, subject to the ceiling of Rs. 1 Lakh + 20% of such amount",
				"part_b":"Average Monthly wages drawm for the preceding twelve months prior to the month of death, subject to the maximum of Rs. 15000/- multiplied by 20 + 20% of such amount"
			},
			{
				"id":9,
				"start": "24-05-2016",
				"end": "14-02-2018",
				"min_balance":0,
				"part_a":"Rs. 50,000/= + 40% of the amount in excess Rs. 50,000/-, subject to the ceiling of Rs. 1 Lakh + 20% of such amount",
				"part_b":"Average Monthly wages drawm for the preceding twelve months prior to the month of death, subject to the maximum of Rs. 15000/-  multiplied by 30 + 50% of the average balance of PF contributions, for preceding twelve months prior to the month of death, ceiling of Rs. 1,50,000/- (i.e. Maximum Benefit is Rs. 4,50,000+Rs.1,50,000/- = Rs. 6,00,000/-)"
			},
			{
				"id":10,
				"start": "15-02-2018",
				"end": "14-02-2020",
				"min_balance":0,
				"part_a":"Rs. 50,000/= + 40% of the amount in excess Rs. 50,000/-, subject to the ceiling of Rs. 1 Lakh + 20% of such amount",
				"part_b":"Same as above - Minimum Assurance Benefit is fixed to Rs. 2.50 Lakhs"
			},
			{
				"id":11,
				"start": "15-02-2020",
				"end": "27-04-2024",
				"min_balance":0,
				"part_a":"Rs. 50,000/= + 40% of the amount in excess Rs. 50,000/-, subject to the ceiling of Rs. 1 Lakh + 20% of such amount",
				"part_b":"Average Monthly wages drawm for the preceding twelve months prior to the month of death, subject to the maximum of Rs. 15000/-  multiplied by 35 + 50% of the average balance of PF contributions, for preceding twelve months prior to the month of death, ceiling of Rs. 1,75,000/- (i.e. Maximum Benefit is Rs. 5,25,000+Rs.1,75,000/- = Rs. 7,00,000/-) (Admissible if the employee who had been in employment for a continuous period of twelve months irrestpective of change in establishment)"
			}
		];
	}]);
	</script>
</body>
</html>